<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Flipper Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Flipper Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Flipper" href="/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
<script src="/js/code-blocks-buttons.js"></script>
<script src="/js/google-analytics.js"></script><title data-react-helmet="true">Migrating a plugin to Sandy | Flipper</title><meta data-react-helmet="true" property="og:url" content="https://fbflipper.com//docs/extending/sandy-migration"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Migrating a plugin to Sandy | Flipper"><meta data-react-helmet="true" name="description" content="Migrating a plugin to the new Sandy plugin architecture consists of 3 steps:"><meta data-react-helmet="true" property="og:description" content="Migrating a plugin to the new Sandy plugin architecture consists of 3 steps:"><link data-react-helmet="true" rel="shortcut icon" href="/img/icon.png"><link data-react-helmet="true" rel="canonical" href="https://fbflipper.com//docs/extending/sandy-migration"><link data-react-helmet="true" rel="alternate" href="https://fbflipper.com//docs/extending/sandy-migration" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://fbflipper.com//docs/extending/sandy-migration" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.39cd0c99.css">
<link rel="preload" href="/assets/js/styles.266e8139.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.78ae805a.js" as="script">
<link rel="preload" href="/assets/js/main.e37476bc.js" as="script">
<link rel="preload" href="/assets/js/1.f793342f.js" as="script">
<link rel="preload" href="/assets/js/2.3399e383.js" as="script">
<link rel="preload" href="/assets/js/74.1200cae2.js" as="script">
<link rel="preload" href="/assets/js/77.b8ad4be4.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.efa3901d.js" as="script">
<link rel="preload" href="/assets/js/17896441.9190ff35.js" as="script">
<link rel="preload" href="/assets/js/e3d1d3fe.76451bf8.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>
<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/icon.png" alt="Flipper Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/icon.png" alt="Flipper Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Flipper</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/features/index">Features</a><a class="navbar__item navbar__link" href="/docs/getting-started/index">Setup</a><a class="navbar__item navbar__link" href="/docs/tutorial/intro">Creating Plugins</a><a class="navbar__item navbar__link" href="/docs/internals/index">Under the Hood</a><a href="https://github.com/facebook/flipper" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-github-link" aria-label="GitHub repository"></a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/icon.png" alt="Flipper Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/icon.png" alt="Flipper Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Flipper</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/features/index">Features</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/index">Setup</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorial/intro">Creating Plugins</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/internals/index">Under the Hood</a></li><li class="menu__list-item"><a href="https://github.com/facebook/flipper" target="_blank" rel="noopener noreferrer" class="menu__link navbar-github-link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorial</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/intro">Intro</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/ios">Building an iOS Plugin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/android">Building an Android Plugin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/react-native">Building a React Native Plugin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/js-setup">Building a Desktop Plugin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/js-table">Showing a table</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/js-custom">Custom Plugin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/js-publishing">Publishing</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Development workflow</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/extending/dev-setup">Development Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/extending/loading-custom-plugins">Dynamically Loading Plugins</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/extending/desktop-plugin-structure">Plugin structure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/extending/testing">Testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/extending/debugging">Debugging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/extending/plugin-distribution">Plugin Distribution</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/extending/sandy-migration">Migrating a plugin to Sandy</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Desktop plugin APIs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/extending/flipper-plugin">Desktop Plugin API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/extending/styling-components">Styling Components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/extending/create-table-plugin">Create Table Plugin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/extending/search-and-filter">Searching and Filtering</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Deprecated APIs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/extending/ui-components">UI Components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/extending/js-plugin-api">Desktop Plugin API</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Client plugin APIs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/extending/create-plugin">Client Plugin API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/extending/error-handling">Error Handling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/extending/arch">Architecture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/extending/client-plugin-lifecycle">Client Plugin Lifecycle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/extending/layout-inspector">Extending Layout Inspector</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Migrating a plugin to Sandy</h1></header><div class="markdown"><p>Migrating a plugin to the new Sandy plugin architecture consists of 3 steps:</p><ol><li>Enabling Sandy for a plugin.</li><li>Update state and connection management to use the Sandy APIs. </li><li>Update the UI to use Sandy / Antd components only.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="opting-in-to-sandy"></a>Opting in to Sandy<a class="hash-link" href="#opting-in-to-sandy" title="Direct link to heading">#</a></h2><p>Converting a Flipper plugin to use Sandy can best be done by running Flipper from source.</p><p>For open source users: clone this repository and run <code>yarn install</code> in the <code>desktop</code> folder.</p><p>Enabling Sandy for a plugin requires two steps. First of all, <code>flipper-plugin</code> should be added as peer dependency to the <code>package.json</code> of the plugin:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token property">&quot;peerDependencies&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;flipper-plugin&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;*&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Next, make sure to run <code>yarn install</code> again in the <code>desktop/</code> folder.
Sandy is now enabled for this plugin, and the plugin has to be restructured to the new architecture which we will do in the next step.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="using-sandy-for-state-and-connection-management"></a>Using Sandy for state and connection management<a class="hash-link" href="#using-sandy-for-state-and-connection-management" title="Direct link to heading">#</a></h2><p>The goal of this step is to use the leave the plugin UI largely as is but convert state and connection management to use the new Sandy APIs as exposed through the <code>flipper-plugin</code> package.</p><p>Comparing to &#x27;classic&#x27; plugins, there are a few fundamental differences when it comes to the plugin structure of Sandy plugins.
A class extending from <code>FlipperPlugin</code> which is exported as <code>default</code> is <em>no longer</em> used to define a plugin.
Instead, a plugin definition consists of two parts:</p><ol><li>A definition of the state and logic of our plugin that is exported under the name <code>plugin</code>: <code>export function plugin(client: PluginClient&lt;Events, Methods&gt;) { ... }</code>. Most of the state and all connection logic will move here.</li><li>A definition of the root of the UI is exported under the name <code>Component</code>: <code>export function Component() { ... }</code></li></ol><p>There are a few conceptual changes that are important to understand, as they are different compared to classic plugins:</p><p>The <code>plugin</code> function is called exactly once when a plugin is set up for an application. This means that all state that is created inside the <code>plugin</code> definition will be kept as long as the app is connected,
even when the user is navigating away.
It used to be necessary to use <code>persistedState</code> for this kind of state, but that is no longer the case.</p><p>In contrast, the <code>Component</code> component is mounted whenever the user <em>opens</em> the plugin, so any state stored locally in that React component will be lost if the user navigates away.
We recommend avoiding that, and store state, including selection, in the <code>plugin</code> definition instead, using the <code>createState</code> abstraction.</p><p>The relation between <code>plugin</code>, its parameter <code>client</code>, and how to use it in your <code>Component</code> definition is documented in detail in the <a href="/docs/tutorial/js-custom#the-plugin-declaration">Plugin Declaration section</a>.
Please read it before continuing as it will explain how to manage state, handle receiving and sending data and testing in detail.</p><p>The full set of available APIs on <code>client</code> is documented on the <a href="/docs/extending/flipper-plugin#pluginclient">Desktop Plugin API</a> page.</p><p>This step is completed if the plugin follows the next <code>plugin</code> / <code>component</code> structure and is working again. Make sure to test extensively!</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="tips"></a>Tips:<a class="hash-link" href="#tips" title="Direct link to heading">#</a></h3><ul><li>To quickly verify the plugin compiles, the simplest way is to keep <code>yarn tsc -w</code> running in the <code>desktop</code> folder. </li><li>Similarly <code>yarn watch</code> can be used to run the unit tests in watch mode. Use the <code>p</code> key to filter for your specific plugin if <code>jest</code> doesn&#x27;t do so automatically.</li><li>Example of migrating the network plugin to use Sandy APIs. D24108772 / <a href="https://github.com/facebook/flipper/commit/fdde2761ef054e44f399c846a2eae6baba03861e" target="_blank" rel="noopener noreferrer">Github commit</a></li><li>Example of migrating the example plugin to use Sandy APIs. D22308265 / <a href="https://github.com/facebook/flipper/commit/babc88e472612c66901d21d289bd217ef28ee385#diff-a145be72bb13a4675dcc8cbac5e55abcd9a542cc92f5c781bd7d3749f13676fc" target="_blank" rel="noopener noreferrer">Github commit</a></li><li>Other plugins that can be check for inspiration are the Logs and Network plugins.</li><li>These steps typically does not involve change much the UI or touch other files than <code>index.tsx</code>. Typically, the root component needs to be changed, but most other components can remain as is. However, if a ManagedTable is used (see the next section), it might be easier to already convert the table in this step.</li><li>Sandy has first class support for unit testing your plugin and mocking device interactions. Please do set up unit tests per documentation linked above!</li><li>If the original plugin definition contained <code>state</code>, it is recommended to create one new state atoms (<code>createState</code>) per field in the original <code>state</code>, rather than having one big atom.</li><li>If the original plugin definition contained <code>persistedState</code>, it is recommended to create one new state atoms (<code>createState</code>) per field in the original <code>state</code>, rather than having one big atom. By setting the <code>persist</code> <a href="/docs/extending/flipper-plugin#options">option</a> of the state, you can make sure this piece of state becomes part of the import / export functionality of Flipper. Which is important if the data stored here is relevant for bug reports. </li><li>For deeply nested state updates, using <code>state.update</code> is often simpler than using <code>state.set</code>, as it uses <a href="https://immerjs.github.io/immer/" target="_blank" rel="noopener noreferrer">immer</a> under the hood to make immutable state updates straight forward.</li><li>For the same reason, you don&#x27;t need to shallowly clone your state anymore, as long as <code>state.update</code> is used for state updates.</li><li>When dealing a lot with promises, using <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Asynchronous/Async_await" target="_blank" rel="noopener noreferrer"><code>async</code> / <code>await</code></a> is usually simpler.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="migration-table"></a>Migration table<a class="hash-link" href="#migration-table" title="Direct link to heading">#</a></h3><p>Some abstractions that used to be (for example) static methods on <code>FlipperPlugin</code> are now exposed from the <code>client</code> object:</p><p>| Old | New |
| <code>persistedState</code> | Use <code>createState</code> and set the <code>persist</code> option |
| <code>persistedStateReducer</code> | Create message handlers and update the state objects directly |
| <code>exportPersistedState</code> | Use the <code>client.onExport</code> hook |
| <code>getActiveNotifications</code> | Use <code>client.showNotification</code> for persistent notifications, or <code>message</code> / <code>notification</code> from <code>antd</code> for one-off notifications.
| <code>createTablePlugin</code> | TBD, so these conversions can be skipped for now |
| <code>init</code> | <code>client.onReady</code> |</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="using-sandy--antdesign-to-organise-the-plugin-ui"></a>Using Sandy / Ant.design to organise the plugin UI<a class="hash-link" href="#using-sandy--antdesign-to-organise-the-plugin-ui" title="Direct link to heading">#</a></h2><p>The goal of this step is to update the UI of the plugin to use Sandy / Ant.design components.
These will provide a more consistent user experience, usually provide better UX and they support dark mode!
Roughly speaking this typically involves replacing all imported components with their modern counterpart.</p><p>For Sandy plugins, components can be found here:</p><ul><li>Interactive data displaying components are exposed from <code>flipper-plugin</code>: <code>DataTable</code> (for tables), <code>DataInspector</code> (for JSON trees) and <code>ElementInspector</code> (for element trees). </li><li><code>flipper-plugin</code> also provides the primitives to organise the <code>Layout</code> of the plugin.</li><li>Practically all other, more generic components are provided by <a href="https://ant.design/components/overview/" target="_blank" rel="noopener noreferrer">ant.design</a>, a proven mature open source component library, which is much richer than the components that are offered from <code>flipper</code>.</li></ul><p>In Sandy, the layout is typically build by using a combination of <code>Layout.Top</code> (or <code>.Right</code>, <code>.Left</code>, <code>.Bottom</code>), which divides all available space in a fixed and dynamic section, <code>Layout.Scrollable</code>, which takes all available space and provides scrollbars if its content is still greater, and <code>Layout.Container</code> which organizes paddings, borders and spacing between elements etc.</p><p>We generally recommend against using <code>margins</code>; use padding and <code>gap</code> instead.
Ideally, use <code>theme.spacing</code> to get standard numbers for margins and paddings instead of hard-coded numbers.
This will help with achieving consistency in look and feel.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="design-resources"></a>Design resources<a class="hash-link" href="#design-resources" title="Direct link to heading">#</a></h3><p>There are three important resources to check for documentation on the components available:</p><ol><li>If you start Flipper, and go to <code>View &gt; Flipper style guide</code>, you will see a general overview of the Flipper design system. It will demonstrate colors, typography and creating layouts including some examples. </li><li>The <a href="https://ant.design/components/overview/" target="_blank" rel="noopener noreferrer">ant.design component overview</a></li><li>The <a href="/docs/extending/flipper-plugin#ui-components">API reference</a> documentation for the components provided by <code>flipper-plugin</code></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="old-and-new-components"></a>Old and new components<a class="hash-link" href="#old-and-new-components" title="Direct link to heading">#</a></h3><p>For conversion, the following table maps the old components to the new ones:</p><table><thead><tr><th>Old <code>flipper</code> component</th><th>New component</th><th>Providing package</th><th>Notes</th></tr></thead><tbody><tr><td><code>DetailsSidebar</code></td><td><code>DetailsSidebar</code></td><td><code>flipper-plugin</code></td><td>as-is</td></tr><tr><td><code>Sidebar</code></td><td><code>Layout.Top</code> (or <code>.Right</code>, <code>.Left</code>, <code>.Bottom</code>)</td><td><code>flipper-plugin</code></td><td>Set the <code>resizable</code> flag to allow the user to resize the pane.</td></tr><tr><td><code>FlexColumn</code> / <code>Pane</code> / <code>View</code></td><td><code>Layout.Container</code></td><td><code>flipper-plugin</code></td><td>Use the <code>gap</code> property to provide some spacing between the children!</td></tr><tr><td><code>FlexRow</code></td><td><code>Layout.Horizontal</code></td><td><code>flipper-plugin</code></td><td>Use the <code>gap</code> property to provide some spacing between the children!</td></tr><tr><td><code>Scrollable</code></td><td><code>Layout.ScrollContainer</code></td><td><code>flipper-plugin</code></td><td></td></tr><tr><td><code>Link</code></td><td><code>Typography.Link</code></td><td><code>antd</code></td><td></td></tr><tr><td><code>Text</code> / <code>Heading</code></td><td><code>Typography.Text</code> / <code>Typography.Title</code></td><td><code>antd</code></td><td></td></tr><tr><td><code>Button</code></td><td><code>Button</code></td><td><code>antd</code></td><td></td></tr><tr><td><code>Glyph</code></td><td><code>Icon</code></td><td><code>antd</code></td><td></td></tr><tr><td><code>ManagedDataTable</code></td><td><code>DataTable</code></td><td><code>flipper-plugin</code></td><td>Requires state to be provided by a <a href="/docs/extending/flipper-plugin#createdatasource"><code>createDataSource</code></a></td></tr><tr><td><code>ManagedDataInspector</code> / <code>DataInspector</code></td><td><code>DataInspector</code></td><td><code>flipper-plugin</code></td><td></td></tr><tr><td><code>ManagedElementInspector</code> / <code>ElementInspector</code></td><td><code>ElementInspector</code></td><td><code>flipper-plugin</code></td><td></td></tr><tr><td><code>Panel</code></td><td><code>Panel</code></td><td><code>flipper-plugin</code></td><td></td></tr><tr><td><code>Tabs</code> / <code>Tab</code></td><td><code>Tabs</code> / <code>Tab</code></td><td>`flipper-plugin</td><td>Note that <code>Tab</code>&#x27;s <code>title</code> property is now called <code>tab</code>.</td></tr></tbody></table><p>Most other components, like <code>select</code> elements, tabs, date-pickers, etc etc can all be found in the Ant documentaiton.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="theming--custom-styled-components"></a>Theming &amp; custom styled components<a class="hash-link" href="#theming--custom-styled-components" title="Direct link to heading">#</a></h3><p>Creating your own components / styling using <code>styled</code> is still supported.
But ideally, you should need custom styled components a lot less!</p><p>Since Sandy plugins are expected to support dark mode, (use the settings pane to quickly toggle), we recommend to not use hard-coded colors, but instead use one of the semantic colors that are provided through the <code>theme</code> object that can be imported from <code>flipper-plugin</code>.</p><p>Ideally there should be no hard-coded colors anymore either, and little need to use <code>width: 100%</code> / <code>height: 100%</code> anywhere, as needing those typically signals a layout issue.</p><p>Tip: it is recommended to keep components as much as possible outside the entry file, as components defined outside the index.tsx file will benefit from fast refresh.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="wrapping-up"></a>Wrapping up<a class="hash-link" href="#wrapping-up" title="Direct link to heading">#</a></h3><p>This step of the process is completed as soon as there are no imports from the <code>flipper</code> package anymore.
Don&#x27;t forget to remove <code>flipper</code> from the <code>peerDependencies</code> in the <code>package.json</code> section if present.</p><p>Feel free to reach out to the Flipper team for any questions!</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/flipper/blob/master/website/../docs/extending/sandy-migration.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/extending/plugin-distribution"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Plugin Distribution</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/extending/flipper-plugin"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Desktop Plugin API »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#opting-in-to-sandy" class="table-of-contents__link">Opting in to Sandy</a></li><li><a href="#using-sandy-for-state-and-connection-management" class="table-of-contents__link">Using Sandy for state and connection management</a><ul><li><a href="#tips" class="table-of-contents__link">Tips:</a></li><li><a href="#migration-table" class="table-of-contents__link">Migration table</a></li></ul></li><li><a href="#using-sandy--antdesign-to-organise-the-plugin-ui" class="table-of-contents__link">Using Sandy / Ant.design to organise the plugin UI</a><ul><li><a href="#design-resources" class="table-of-contents__link">Design resources</a></li><li><a href="#old-and-new-components" class="table-of-contents__link">Old and new components</a></li><li><a href="#theming--custom-styled-components" class="table-of-contents__link">Theming &amp; custom styled components</a></li><li><a href="#wrapping-up" class="table-of-contents__link">Wrapping up</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Learn</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/index">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tutorial/intro">Plugin Creation Tutorial</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Plugins</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/features/index">Core Plugins</a></li><li class="footer__item"><a href="https://www.npmjs.com/search?q=keywords:flipper-plugin" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community Plugins</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Legal</h4><ul class="footer__items"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy</a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/flipper_fb" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://github.com/facebook/flipper" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/mascot.png" alt="Flipper Mascot" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/img/mascot.png" alt="Flipper Mascot" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></div><div class="footer__copyright">Copyright © 2021 Facebook</div></div></div></footer></div>
<script src="/assets/js/styles.266e8139.js"></script>
<script src="/assets/js/runtime~main.78ae805a.js"></script>
<script src="/assets/js/main.e37476bc.js"></script>
<script src="/assets/js/1.f793342f.js"></script>
<script src="/assets/js/2.3399e383.js"></script>
<script src="/assets/js/74.1200cae2.js"></script>
<script src="/assets/js/77.b8ad4be4.js"></script>
<script src="/assets/js/935f2afb.efa3901d.js"></script>
<script src="/assets/js/17896441.9190ff35.js"></script>
<script src="/assets/js/e3d1d3fe.76451bf8.js"></script>
</body>
</html>